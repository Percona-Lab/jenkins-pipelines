- job:
    name: ps-package-testing-molecule-9x-innovation
    project-type: pipeline
    description: |
        Do not edit this job through the web!
    properties:
        - build-discarder:
            num-to-keep: 15
    concurrent: true
    pipeline-scm:
        scm:
            - git:
                url: https://github.com/Percona-Lab/jenkins-pipelines.git
                branches:
                    - 'master'
                wipe-workspace: true
        lightweight-checkout: true
        script-path: ps/jenkins/ps-package-testing-molecule-9x-inn-lts.groovy
    parameters:
        - choice:
            name: product_to_test
            choices:
                - "ps_80"
                - "ps_84"
                - "ps_lts_innovation"
                - "client_test"
            description: "Product for which the packages will be tested"
        - choice:
            name: install_repo
            choices:
                - "testing"
                - "main"
                - "experimental"
            description: "Repo to use in install test"
        - choice:
            name: action_to_test
            choices:
                - "all"
                - "install"
                - "upgrade"
                - "maj-upgrade-to"
                - "kmip"
            description: "Action to test on the product"
        - choice:
            name: check_warnings
            choices:
                - "yes"
                - "no"
            description: "check warning in client_test"
        - choice:
            name: install_mysql_shell
            choices:
                - "yes"
                - "no"
            description: "install and check mysql-shell for innovation-lts"