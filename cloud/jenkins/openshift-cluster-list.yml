- job:
    name: openshift-cluster-list
    description: |
      List all OpenShift clusters deployed via Jenkins.
      Shows cluster name, version, region, creator, and deployment time.
    disabled: false
    concurrent: true
    node: agent-amd64-ol9
    
    parameters:
      - string:
          name: AWS_REGION
          default: 'us-east-2'
          description: 'AWS region to check for clusters (default: us-east-2)'
      - choice:
          name: OUTPUT_FORMAT
          description: 'Output format for the cluster list'
          choices:
            - table
            - json
    
    scm:
      - git:
          url: https://github.com/Percona-Lab/jenkins-pipelines.git
          branches:
            - master
    
    pipeline-scm:
      scm:
        - git:
            url: https://github.com/Percona-Lab/jenkins-pipelines.git
            branches:
              - master
      script-path: cloud/jenkins/openshift_cluster_list.groovy
      lightweight-checkout: true